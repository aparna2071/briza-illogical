<!doctype html>
<html class="default no-js">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>@briza/illogical</title>
	<meta name="description" content="">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="assets/css/main.css">
</head>
<body>
<header>
	<div class="tsd-page-toolbar">
		<div class="container">
			<div class="table-wrap">
				<div class="table-cell" id="tsd-search" data-index="assets/js/search.js" data-base=".">
					<div class="field">
						<label for="tsd-search-field" class="tsd-widget search no-caption">Search</label>
						<input id="tsd-search-field" type="text" />
					</div>
					<ul class="results">
						<li class="state loading">Preparing search index...</li>
						<li class="state failure">The search index is not available</li>
					</ul>
					<a href="index.html" class="title">@briza/illogical</a>
				</div>
				<div class="table-cell" id="tsd-widgets">
					<div id="tsd-filter">
						<a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a>
						<div class="tsd-filter-group">
							<div class="tsd-select" id="tsd-filter-visibility">
								<span class="tsd-select-label">All</span>
								<ul class="tsd-select-list">
									<li data-value="public">Public</li>
									<li data-value="protected">Public/Protected</li>
									<li data-value="private" class="selected">All</li>
								</ul>
							</div>
							<input type="checkbox" id="tsd-filter-inherited" checked />
							<label class="tsd-widget" for="tsd-filter-inherited">Inherited</label>
							<input type="checkbox" id="tsd-filter-externals" checked />
							<label class="tsd-widget" for="tsd-filter-externals">Externals</label>
							<input type="checkbox" id="tsd-filter-only-exported" />
							<label class="tsd-widget" for="tsd-filter-only-exported">Only exported</label>
						</div>
					</div>
					<a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a>
				</div>
			</div>
		</div>
	</div>
	<div class="tsd-page-title">
		<div class="container">
			<ul class="tsd-breadcrumb">
				<li>
					<a href="globals.html">Globals</a>
				</li>
			</ul>
			<h1> @briza/illogical</h1>
		</div>
	</div>
</header>
<div class="container container-main">
	<div class="row">
		<div class="col-8 col-content">
			<div class="tsd-panel tsd-typography">
				<a href="#illogical" id="illogical" style="color: inherit; text-decoration: none;">
					<h1>illogical</h1>
				</a>
				<p>A micro conditional javascript engine used to parse the raw logical and comparison expressions, evaluate the expression in the given data context, and provide access to a text form of the given expressions.</p>
				<blockquote>
					<p>Revision: October 19, 2019.</p>
				</blockquote>
				<a href="#about" id="about" style="color: inherit; text-decoration: none;">
					<h2>About</h2>
				</a>
				<p>This project has been developed to provide a shared conditional logic between front-end and back-end code, stored in JSON or in any other data serialization format. </p>
				<blockquote>
					<p>Code documentation could be found here: <a href="https://briza-insurance.github.io/illogical/index.html">https://briza-insurance.github.io/illogical/index.html</a>.</p>
				</blockquote>
				<blockquote>
					<p>The library is being build as <strong>CommonJS</strong> module and <strong>ESM</strong>.  </p>
				</blockquote>
				<a href="#installation-via-npm-or-yarn" id="installation-via-npm-or-yarn" style="color: inherit; text-decoration: none;">
					<h2>Installation via NPM or Yarn</h2>
				</a>
				<pre><code class="language-sh">npm install -D @briza/illogical</code></pre>
				<pre><code class="language-sh">yarn add @briza/illogical -D</code></pre>
				<p><strong>Table of Content</strong></p>
				<hr>
				<ul>
					<li><a href="#illogical">illogical</a><ul>
							<li><a href="#about">About</a></li>
							<li><a href="#installation-via-npm-or-yarn">Installation via NPM or Yarn</a></li>
							<li><a href="#license">- License</a></li>
							<li><a href="#basic-usage">Basic Usage</a><ul>
									<li><a href="#evaluate">Evaluate</a></li>
									<li><a href="#parse">Parse</a></li>
									<li><a href="#operand-types">Operand Types</a><ul>
											<li><a href="#value">Value</a></li>
											<li><a href="#reference">Reference</a></li>
										</ul>
									</li>
									<li><a href="#comparison-expressions">Comparison Expressions</a><ul>
											<li><a href="#equal">Equal</a></li>
											<li><a href="#not-equal">Not Equal</a></li>
											<li><a href="#greater-than">Greater Than</a></li>
											<li><a href="#greater-than-or-equal">Greater Than or Equal</a></li>
											<li><a href="#less-than">Less Than</a></li>
											<li><a href="#less-than-or-equal">Less Than or Equal</a></li>
											<li><a href="#in">In</a></li>
											<li><a href="#not-in">Not In</a></li>
										</ul>
									</li>
									<li><a href="#logical-expressions">Logical Expressions</a><ul>
											<li><a href="#and">And</a></li>
											<li><a href="#or">Or</a></li>
											<li><a href="#nor">Nor</a></li>
											<li><a href="#xor">Xor</a></li>
										</ul>
									</li>
								</ul>
							</li>
							<li><a href="#engine-options">Engine Options</a><ul>
									<li><a href="#strict-mode">Strict Mode</a></li>
									<li><a href="#parser-options">Parser Options</a><ul>
											<li><a href="#reference-predicated">Reference Predicated</a></li>
											<li><a href="#reference-transform">Reference Transform</a></li>
											<li><a href="#operator-mapping">Operator Mapping</a></li>
										</ul>
									</li>
								</ul>
							</li>
							<li><a href="#contributing">Contributing</a><ul>
									<li><a href="#pull-request-process">Pull Request Process</a></li>
								</ul>
							</li>
							<li><a href="#license">License</a></li>
						</ul>
					</li>
				</ul>
				<hr>
				<a href="#basic-usage" id="basic-usage" style="color: inherit; text-decoration: none;">
					<h2>Basic Usage</h2>
				</a>
				<pre><code class="language-js"><span class="hljs-comment">// Import the illogical engine</span>
<span class="hljs-keyword">import</span> Engine <span class="hljs-keyword">from</span> <span class="hljs-string">'@briza/illogical'</span>;

<span class="hljs-comment">// Create a new instance of the engine</span>
<span class="hljs-keyword">const</span> engine = <span class="hljs-keyword">new</span> Engine();

<span class="hljs-comment">// Evaluate the raw expression</span>
<span class="hljs-keyword">const</span> result = engine.evaluate([<span class="hljs-string">'=='</span>, <span class="hljs-number">5</span>, <span class="hljs-number">5</span>]);</code></pre>
				<blockquote>
					<p>For advanced usage, please <a href="#engine-options">Engine Options</a>.</p>
				</blockquote>
				<a href="#evaluate" id="evaluate" style="color: inherit; text-decoration: none;">
					<h3>Evaluate</h3>
				</a>
				<p>Evaluate comparison or logical expression as TRUE or FALSE result:</p>
				<p><code>engine.evaluate(</code><a href="#comparison-expressions">Comparison Expression</a> or <a href="#logical-expressions">Logical Expression</a>, <a href="#evaluation-data-context">Evaluation Data Context</a><code>)</code> =&gt; <code>boolean</code></p>
				<blockquote>
					<p>Data context is optional.</p>
				</blockquote>
				<p><strong>Example</strong></p>
				<pre><code class="language-js"><span class="hljs-comment">// Comparison expression</span>
engine.evaluate([<span class="hljs-string">'=='</span>, <span class="hljs-number">5</span>, <span class="hljs-number">5</span>]);
engine.evaluate([<span class="hljs-string">'=='</span>, <span class="hljs-string">'circle'</span>, <span class="hljs-string">'circle'</span>]);
engine.evaluate([<span class="hljs-string">'=='</span>, <span class="hljs-literal">true</span>, <span class="hljs-literal">true</span>]);
engine.evaluate([<span class="hljs-string">'=='</span>, <span class="hljs-string">'$name'</span>, <span class="hljs-string">'peter'</span>], {<span class="hljs-attr">name</span>: <span class="hljs-string">'peter'</span>});

<span class="hljs-comment">// Logical expression</span>
engine.evaluate([
  <span class="hljs-string">'AND'</span>,
  [<span class="hljs-string">'=='</span>, <span class="hljs-number">5</span>, <span class="hljs-number">5</span>],
  [<span class="hljs-string">'=='</span>, <span class="hljs-number">10</span>, <span class="hljs-number">10</span>]
]);
engine.evaluate([
  <span class="hljs-string">'AND'</span>,
  [<span class="hljs-string">'=='</span>, <span class="hljs-string">'circle'</span>, <span class="hljs-string">'circle'</span>],
  [<span class="hljs-string">'=='</span>, <span class="hljs-number">10</span>, <span class="hljs-number">10</span>]
]);
engine.evaluate([
  <span class="hljs-string">'OR'</span>,
  [<span class="hljs-string">'=='</span>, <span class="hljs-string">'$name'</span>, <span class="hljs-string">'peter'</span>],
  [<span class="hljs-string">'=='</span>, <span class="hljs-number">5</span>, <span class="hljs-number">10</span>]
], {<span class="hljs-attr">name</span>: <span class="hljs-string">'peter'</span>});</code></pre>
				<a href="#statement" id="statement" style="color: inherit; text-decoration: none;">
					<h3>Statement</h3>
				</a>
				<p>Get expression string representation:</p>
				<p><code>engine.statement(</code><a href="#comparison-expressions">Comparison Expression</a> or <a href="#logical-expressions">Logical Expression</a><code>)</code>  =&gt; <code>string</code></p>
				<p><strong>Example</strong></p>
				<pre><code class="language-js"><span class="hljs-comment">/* Comparison expression */</span>

engine.statement([<span class="hljs-string">'=='</span>, <span class="hljs-number">5</span>, <span class="hljs-number">5</span>]);
<span class="hljs-comment">// (5 == 5)</span>

engine.statement([<span class="hljs-string">'=='</span>, <span class="hljs-string">'circle'</span>, <span class="hljs-string">'circle'</span>]);
<span class="hljs-comment">// ("circle" == "circle")</span>

engine.statement([<span class="hljs-string">'=='</span>, <span class="hljs-literal">true</span>, <span class="hljs-literal">true</span>]);
<span class="hljs-comment">// (true == true)</span>

engine.statement([<span class="hljs-string">'=='</span>, <span class="hljs-string">'$name'</span>, <span class="hljs-string">'peter'</span>], {<span class="hljs-attr">name</span>: <span class="hljs-string">'peter'</span>});
<span class="hljs-comment">// ({name} == "peter")</span>


<span class="hljs-comment">/* Logical expression */</span>

engine.statement([
  <span class="hljs-string">'AND'</span>,
  [<span class="hljs-string">'=='</span>, <span class="hljs-number">5</span>, <span class="hljs-number">5</span>],
  [<span class="hljs-string">'=='</span>, <span class="hljs-number">10</span>, <span class="hljs-number">10</span>]
]);
<span class="hljs-comment">// ((5 == 5) AND (10 == 10))</span>

engine.statement([
  <span class="hljs-string">'AND'</span>,
  [<span class="hljs-string">'=='</span>, <span class="hljs-string">'circle'</span>, <span class="hljs-string">'circle'</span>],
  [<span class="hljs-string">'=='</span>, <span class="hljs-number">10</span>, <span class="hljs-number">10</span>]
]);
<span class="hljs-comment">// (("circle" == "circle") AND (10 == 10))</span>

engine.statement([
  <span class="hljs-string">'OR'</span>,
  [<span class="hljs-string">'=='</span>, <span class="hljs-string">'$name'</span>, <span class="hljs-string">'peter'</span>],
  [<span class="hljs-string">'=='</span>, <span class="hljs-number">5</span>, <span class="hljs-number">10</span>]
], {<span class="hljs-attr">name</span>: <span class="hljs-string">'peter'</span>});
<span class="hljs-comment">// (({name} == "peter") OR (5 == 10))</span></code></pre>
				<a href="#parse" id="parse" style="color: inherit; text-decoration: none;">
					<h3>Parse</h3>
				</a>
				<p>Parse the expression into a evaluable object, i.e. it returns the parsed self-evaluable condition expression.</p>
				<p><code>engine.parse(</code><a href="#comparison-expressions">Comparison Expression</a> or <a href="#logical-expressions">Logical Expression</a><code>)</code>  =&gt; <code>evaluable</code></p>
				<a href="#evaluable-function" id="evaluable-function" style="color: inherit; text-decoration: none;">
					<h4>Evaluable Function</h4>
				</a>
				<ul>
					<li><code>evaluable.evaluate(context)</code> please see <a href="#evaluation-data-context">Evaluation Data Context</a>.</li>
					<li><code>evaluable.toString()</code> please see <a href="#statement">Statement</a>.</li>
				</ul>
				<p><strong>Example</strong></p>
				<pre><code class="language-js"><span class="hljs-keyword">let</span> evaluable = engine.parse([<span class="hljs-string">'=='</span>, <span class="hljs-string">'$name'</span>, <span class="hljs-string">'peter'</span>]);

evaluable.evaluate({<span class="hljs-attr">name</span>: <span class="hljs-string">'peter'</span>}); <span class="hljs-comment">// true</span>

evaluable.toString();
<span class="hljs-comment">// ({name} == "peter")</span></code></pre>
				<a href="#working-with-expressions" id="working-with-expressions" style="color: inherit; text-decoration: none;">
					<h2>Working with Expressions</h2>
				</a>
				<a href="#evaluation-data-context" id="evaluation-data-context" style="color: inherit; text-decoration: none;">
					<h3>Evaluation Data Context</h3>
				</a>
				<p>The evaluation data context is used to provide the expression with variable references, i.e. this allows for the dynamic expressions. The data context is object with properties used as the references keys, and its values as reference values.</p>
				<blockquote>
					<p>Valid reference values: object, string, number, boolean, string[], number[].</p>
				</blockquote>
				<p>To reference the nested reference, please use &quot;.&quot; delimiter, e.g.:
				<code>$address.city</code></p>
				<p><strong>Example</strong></p>
				<pre><code class="language-js"><span class="hljs-comment">// Data context</span>
<span class="hljs-keyword">const</span> ctx = {
  <span class="hljs-attr">name</span>: <span class="hljs-string">'peter'</span>,
  <span class="hljs-attr">country</span>: <span class="hljs-string">'canada'</span>,
  <span class="hljs-attr">age</span>: <span class="hljs-number">21</span>,
  <span class="hljs-attr">options</span>: [<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>],
  <span class="hljs-attr">address</span>: {
    <span class="hljs-attr">city</span>: <span class="hljs-string">'Toronto'</span>,
    <span class="hljs-attr">country</span>: <span class="hljs-string">'Canada'</span>,
  }
}

<span class="hljs-comment">// Evaluate an expression in the given data context</span>
engine.evaluate([<span class="hljs-string">'&gt;'</span>, <span class="hljs-string">'$age'</span>, <span class="hljs-number">20</span>], ctx); <span class="hljs-comment">// true</span>

<span class="hljs-comment">// Evaluate an expression in the given data context</span>
engine.evaluate([<span class="hljs-string">'=='</span>, <span class="hljs-string">'$address.city'</span>, <span class="hljs-string">'Toronto'</span>], ctx); <span class="hljs-comment">// true</span></code></pre>
				<a href="#operand-types" id="operand-types" style="color: inherit; text-decoration: none;">
					<h3>Operand Types</h3>
				</a>
				<p>The <a href="#comparison-expression">Comparison Expression</a> expect operands to be one of the below:</p>
				<a href="#value" id="value" style="color: inherit; text-decoration: none;">
					<h4>Value</h4>
				</a>
				<p>Simple value types: string, number, boolean, string[], number[].</p>
				<p><strong>Example</strong></p>
				<pre><code class="language-js">[<span class="hljs-string">'=='</span>, <span class="hljs-number">5</span>, <span class="hljs-number">5</span>]
[<span class="hljs-string">'=='</span>, <span class="hljs-string">'circle'</span>, <span class="hljs-string">'circle'</span>]
[<span class="hljs-string">'=='</span>, <span class="hljs-literal">true</span>, <span class="hljs-literal">true</span>]
[<span class="hljs-string">'IN'</span>, <span class="hljs-number">2</span>, [<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>]]
[<span class="hljs-string">'IN'</span>, [<span class="hljs-string">'a'</span>, <span class="hljs-string">'b'</span>, <span class="hljs-string">'c'</span>], <span class="hljs-string">'b'</span>]</code></pre>
				<a href="#reference" id="reference" style="color: inherit; text-decoration: none;">
					<h4>Reference</h4>
				</a>
				<p>The reference operand&#39;s value is resolved from the <a href="#evaluation-data-context">Evaluation Data Context</a>, where the the operands name is used as key in the context.</p>
				<p>The reference operand must be prefixed with <code>$</code> symbol, e.g.: <code>$name</code>. This might be customized via <a href="#reference-predicated">Reference Predicated Parser Option</a>.</p>
				<p><strong>Example</strong></p>
				<table>
					<thead>
						<tr>
							<th>Expression</th>
							<th>Data Context</th>
						</tr>
					</thead>
					<tbody><tr>
							<td><code>[&#39;==&#39;, &#39;$age&#39;, 21]</code></td>
							<td><code>{age: 21}</code></td>
						</tr>
						<tr>
							<td><code>[&#39;==&#39;, &#39;circle&#39;, &#39;$shape&#39;]</code></td>
							<td><code>{age: &#39;circle&#39;}</code></td>
						</tr>
						<tr>
							<td><code>[&#39;==&#39;, &#39;$visible&#39;, true]</code></td>
							<td><code>{visible: true}</code></td>
						</tr>
						<tr>
							<td><code>[&#39;IN&#39;, 2, &#39;$options&#39;]</code></td>
							<td><code>{options: [1, 2, 3]}</code></td>
						</tr>
						<tr>
							<td><code>[&#39;IN&#39;, [&#39;a&#39;, &#39;b&#39;, &#39;c&#39;], &#39;$selected&#39;]</code></td>
							<td><code>{selected: &#39;b&#39;}</code></td>
						</tr>
				</tbody></table>
				<a href="#comparison-expressions" id="comparison-expressions" style="color: inherit; text-decoration: none;">
					<h3>Comparison Expressions</h3>
				</a>
				<a href="#equal" id="equal" style="color: inherit; text-decoration: none;">
					<h4>Equal</h4>
				</a>
				<p>Expression format: <code>[&quot;==&quot;,</code><a href="#operand-types">Left Operand</a>, <a href="#operand-types">Right Operand</a><code>]</code>.</p>
				<blockquote>
					<p>Valid operand types: string, number, boolean.</p>
				</blockquote>
				<pre><code class="language-json">[<span class="hljs-string">"=="</span>, <span class="hljs-number">5</span>, <span class="hljs-number">5</span>]</code></pre>
				<pre><code class="language-js">engine.evaluate([<span class="hljs-string">'=='</span>, <span class="hljs-number">5</span>, <span class="hljs-number">5</span>]); <span class="hljs-comment">// true</span></code></pre>
				<a href="#not-equal" id="not-equal" style="color: inherit; text-decoration: none;">
					<h4>Not Equal</h4>
				</a>
				<p>Expression format: <code>[&quot;!=&quot;,</code><a href="#operand-types">Left Operand</a>, <a href="#operand-types">Right Operand</a><code>]</code>.</p>
				<blockquote>
					<p>Valid operand types: string, number, boolean.</p>
				</blockquote>
				<pre><code class="language-json">[<span class="hljs-string">"!="</span>, <span class="hljs-string">"circle"</span>, <span class="hljs-string">"square"</span>]</code></pre>
				<pre><code class="language-js">engine.evaluate([<span class="hljs-string">'!='</span>, <span class="hljs-string">'circle'</span>, <span class="hljs-string">'square'</span>]); <span class="hljs-comment">// true</span></code></pre>
				<a href="#greater-than" id="greater-than" style="color: inherit; text-decoration: none;">
					<h4>Greater Than</h4>
				</a>
				<p>Expression format: <code>[&quot;&gt;&quot;,</code><a href="#operand-types">Left Operand</a>, <a href="#operand-types">Right Operand</a><code>]</code>.</p>
				<blockquote>
					<p>Valid operand types: number.</p>
				</blockquote>
				<pre><code class="language-json">[<span class="hljs-string">"&gt;"</span>, <span class="hljs-number">10</span>, <span class="hljs-number">5</span>]</code></pre>
				<pre><code class="language-js">engine.evaluate([<span class="hljs-string">'&gt;'</span>, <span class="hljs-number">10</span>, <span class="hljs-number">5</span>]); <span class="hljs-comment">// true</span></code></pre>
				<a href="#greater-than-or-equal" id="greater-than-or-equal" style="color: inherit; text-decoration: none;">
					<h4>Greater Than or Equal</h4>
				</a>
				<p>Expression format: <code>[&quot;&gt;=&quot;,</code><a href="#operand-types">Left Operand</a>, <a href="#operand-types">Right Operand</a><code>]</code>.</p>
				<blockquote>
					<p>Valid operand types: number.</p>
				</blockquote>
				<pre><code class="language-json">[<span class="hljs-string">"&gt;="</span>, <span class="hljs-number">5</span>, <span class="hljs-number">5</span>]</code></pre>
				<pre><code class="language-js">engine.evaluate([<span class="hljs-string">'&gt;='</span>, <span class="hljs-number">5</span>, <span class="hljs-number">5</span>]); <span class="hljs-comment">// true</span></code></pre>
				<a href="#less-than" id="less-than" style="color: inherit; text-decoration: none;">
					<h4>Less Than</h4>
				</a>
				<p>Expression format: <code>[&quot;&lt;&quot;,</code><a href="#operand-types">Left Operand</a>, <a href="#operand-types">Right Operand</a><code>]</code>.</p>
				<blockquote>
					<p>Valid operand types: number.</p>
				</blockquote>
				<pre><code class="language-json">[<span class="hljs-string">"&lt;"</span>, <span class="hljs-number">5</span>, <span class="hljs-number">10</span>]</code></pre>
				<pre><code class="language-js">engine.evaluate([<span class="hljs-string">'&lt;'</span>, <span class="hljs-number">5</span>, <span class="hljs-number">10</span>]); <span class="hljs-comment">// true</span></code></pre>
				<a href="#less-than-or-equal" id="less-than-or-equal" style="color: inherit; text-decoration: none;">
					<h4>Less Than or Equal</h4>
				</a>
				<p>Expression format: <code>[&quot;&lt;=&quot;,</code><a href="#operand-types">Left Operand</a>, <a href="#operand-types">Right Operand</a><code>]</code>.</p>
				<blockquote>
					<p>Valid operand types: number.</p>
				</blockquote>
				<pre><code class="language-json">[<span class="hljs-string">"&lt;="</span>, <span class="hljs-number">5</span>, <span class="hljs-number">5</span>]</code></pre>
				<pre><code class="language-js">engine.evaluate([<span class="hljs-string">'&lt;='</span>, <span class="hljs-number">5</span>, <span class="hljs-number">5</span>]); <span class="hljs-comment">// true</span></code></pre>
				<a href="#in" id="in" style="color: inherit; text-decoration: none;">
					<h4>In</h4>
				</a>
				<p>Expression format: <code>[&quot;IN&quot;,</code><a href="#operand-types">Left Operand</a>, <a href="#operand-types">Right Operand</a><code>]</code>.</p>
				<blockquote>
					<p>Valid operand types: number and number[] or string and string[].</p>
				</blockquote>
				<pre><code class="language-json">[<span class="hljs-string">"IN"</span>, <span class="hljs-number">5</span>, [<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>]]
[<span class="hljs-string">"IN"</span>, [<span class="hljs-string">"circle"</span>, <span class="hljs-string">"square"</span>, <span class="hljs-string">"triangle"</span>], <span class="hljs-string">"square"</span>]</code></pre>
				<pre><code class="language-js">engine.evaluate([<span class="hljs-string">'IN'</span>, <span class="hljs-number">5</span>, [<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>]]); <span class="hljs-comment">// true</span>
engine.evaluate([<span class="hljs-string">'IN'</span>, [<span class="hljs-string">'circle'</span>, <span class="hljs-string">'square'</span>, <span class="hljs-string">'triangle'</span>], <span class="hljs-string">'square'</span>]); <span class="hljs-comment">// true</span></code></pre>
				<a href="#not-in" id="not-in" style="color: inherit; text-decoration: none;">
					<h4>Not In</h4>
				</a>
				<p>Expression format: <code>[&quot;NOT IN&quot;,</code><a href="#operand-types">Left Operand</a>, <a href="#operand-types">Right Operand</a><code>]</code>.</p>
				<blockquote>
					<p>Valid operand types: number and number[] or string and string[].</p>
				</blockquote>
				<pre><code class="language-json">[<span class="hljs-string">"IN"</span>, <span class="hljs-number">10</span>, [<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>]]
[<span class="hljs-string">"IN"</span>, [<span class="hljs-string">"circle"</span>, <span class="hljs-string">"square"</span>, <span class="hljs-string">"triangle"</span>], <span class="hljs-string">"oval"</span>]</code></pre>
				<pre><code class="language-js">engine.evaluate([<span class="hljs-string">'NOT IN'</span>, <span class="hljs-number">10</span>, [<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>]]); <span class="hljs-comment">// true</span>
engine.evaluate([<span class="hljs-string">'NOT IN'</span>, [<span class="hljs-string">'circle'</span>, <span class="hljs-string">'square'</span>, <span class="hljs-string">'triangle'</span>], <span class="hljs-string">'oval'</span>]); <span class="hljs-comment">// true</span></code></pre>
				<a href="#logical-expressions" id="logical-expressions" style="color: inherit; text-decoration: none;">
					<h3>Logical Expressions</h3>
				</a>
				<a href="#and" id="and" style="color: inherit; text-decoration: none;">
					<h4>And</h4>
				</a>
				<p>The logical AND operator (&amp;&amp;) returns the boolean value TRUE if both operands are TRUE and returns FALSE otherwise.</p>
				<p>Expression format: <code>[&quot;AND&quot;, Left Operand 1, Right Operand 2, ... , Right Operand N]</code>.</p>
				<blockquote>
					<p>Valid operand types: <a href="#comparison-expressions">Comparison Expression</a> or <a href="#logical-expressions">Nested Logical Expression</a>.</p>
				</blockquote>
				<pre><code class="language-json">[
  <span class="hljs-string">"AND"</span>,
  [<span class="hljs-string">"=="</span>, <span class="hljs-number">5</span>, <span class="hljs-number">5</span>],
  [<span class="hljs-string">"=="</span>, <span class="hljs-number">10</span>, <span class="hljs-number">10</span>]
]</code></pre>
				<pre><code class="language-js">engine.evaluate([<span class="hljs-string">'AND'</span>, [<span class="hljs-string">'=='</span>, <span class="hljs-number">5</span>, <span class="hljs-number">5</span>], [<span class="hljs-string">'=='</span>, <span class="hljs-number">10</span>, <span class="hljs-number">10</span>]]); <span class="hljs-comment">// true</span></code></pre>
				<a href="#or" id="or" style="color: inherit; text-decoration: none;">
					<h4>Or</h4>
				</a>
				<p>The logical OR operator (||) returns the boolean value TRUE if either or both operands is TRUE and returns FALSE otherwise. </p>
				<p>Expression format: <code>[&quot;OR&quot;, Left Operand 1, Right Operand 2, ... , Right Operand N]</code>.</p>
				<blockquote>
					<p>Valid operand types: <a href="#comparison-expressions">Comparison Expression</a> or <a href="#logical-expressions">Nested Logical Expression</a>.</p>
				</blockquote>
				<pre><code class="language-json">[
  <span class="hljs-string">"OR"</span>,
  [<span class="hljs-string">"=="</span>, <span class="hljs-number">5</span>, <span class="hljs-number">5</span>],
  [<span class="hljs-string">"=="</span>, <span class="hljs-number">10</span>, <span class="hljs-number">5</span>]
]</code></pre>
				<pre><code class="language-js">engine.evaluate([<span class="hljs-string">'OR'</span>, [<span class="hljs-string">'=='</span>, <span class="hljs-number">5</span>, <span class="hljs-number">5</span>], [<span class="hljs-string">'=='</span>, <span class="hljs-number">10</span>, <span class="hljs-number">5</span>]]); <span class="hljs-comment">// true</span></code></pre>
				<a href="#nor" id="nor" style="color: inherit; text-decoration: none;">
					<h4>Nor</h4>
				</a>
				<p>The logical NOR operator returns the boolean value TRUE if both operands are FALSE and returns FALSE otherwise. </p>
				<p>Expression format: <code>[&quot;NOR&quot;, Left Operand 1, Right Operand 2, ... , Right Operand N]</code></p>
				<blockquote>
					<p>Valid operand types: <a href="#comparison-expressions">Comparison Expression</a> or <a href="#logical-expressions">Nested Logical Expression</a>.</p>
				</blockquote>
				<pre><code class="language-json">[
  <span class="hljs-string">"NOR"</span>,
  [<span class="hljs-string">"=="</span>, <span class="hljs-number">5</span>, <span class="hljs-number">1</span>],
  [<span class="hljs-string">"=="</span>, <span class="hljs-number">10</span>, <span class="hljs-number">5</span>]
]</code></pre>
				<pre><code class="language-js">engine.evaluate([<span class="hljs-string">'NOR'</span>, [<span class="hljs-string">'=='</span>, <span class="hljs-number">5</span>, <span class="hljs-number">1</span>], [<span class="hljs-string">'=='</span>, <span class="hljs-number">10</span>, <span class="hljs-number">5</span>]]); <span class="hljs-comment">// true</span></code></pre>
				<a href="#xor" id="xor" style="color: inherit; text-decoration: none;">
					<h4>Xor</h4>
				</a>
				<p>The logical NOR operator returns the boolean value TRUE if both operands are FALSE and returns FALSE otherwise. </p>
				<p>Expression format: <code>[&quot;XOR&quot;, Left Operand 1, Right Operand 2, ... , Right Operand N]</code></p>
				<blockquote>
					<p>Valid operand types: <a href="#comparison-expressions">Comparison Expression</a> or <a href="#logical-expressions">Nested Logical Expression</a>.</p>
				</blockquote>
				<pre><code class="language-json">[
  <span class="hljs-string">"XOR"</span>,
  [<span class="hljs-string">"=="</span>, <span class="hljs-number">5</span>, <span class="hljs-number">5</span>],
  [<span class="hljs-string">"=="</span>, <span class="hljs-number">10</span>, <span class="hljs-number">5</span>],
]</code></pre>
				<pre><code class="language-js">engine.evaluate([<span class="hljs-string">'XOR'</span>, [<span class="hljs-string">'=='</span>, <span class="hljs-number">5</span>, <span class="hljs-number">5</span>], [<span class="hljs-string">'=='</span>, <span class="hljs-number">10</span>, <span class="hljs-number">5</span>]]); <span class="hljs-comment">// true</span></code></pre>
				<pre><code class="language-json">[
  <span class="hljs-string">"XOR"</span>,
  [<span class="hljs-string">"=="</span>, <span class="hljs-number">5</span>, <span class="hljs-number">5</span>],
  [<span class="hljs-string">"=="</span>, <span class="hljs-number">10</span>, <span class="hljs-number">10</span>],
]</code></pre>
				<pre><code class="language-js">engine.evaluate([<span class="hljs-string">'XOR'</span>, [<span class="hljs-string">'=='</span>, <span class="hljs-number">5</span>, <span class="hljs-number">5</span>], [<span class="hljs-string">'=='</span>, <span class="hljs-number">10</span>, <span class="hljs-number">10</span>]]); <span class="hljs-comment">// false</span></code></pre>
				<a href="#engine-options" id="engine-options" style="color: inherit; text-decoration: none;">
					<h2>Engine Options</h2>
				</a>
				<a href="#strict-mode" id="strict-mode" style="color: inherit; text-decoration: none;">
					<h3>Strict Mode</h3>
				</a>
				<blockquote>
					<p>Default: false</p>
				</blockquote>
				<p>In non-strict mode the parser performs expression reduction where ever possible to optimize the evaluation process. If strict mode, these would cause an error thrown. </p>
				<p><strong>Usage</strong></p>
				<pre><code class="language-js"><span class="hljs-comment">// Import the illogical engine</span>
<span class="hljs-keyword">import</span> Engine <span class="hljs-keyword">from</span> <span class="hljs-string">'@briza/illogical'</span>;

<span class="hljs-comment">// Create a new instance of the engine</span>
<span class="hljs-keyword">const</span> strictMode = <span class="hljs-literal">true</span>;
<span class="hljs-keyword">const</span> engine = <span class="hljs-keyword">new</span> Engine(strictMode);</code></pre>
				<p><strong>Example</strong></p>
				<pre><code class="language-js"><span class="hljs-comment">// Non-strict mode (default)</span>
engine.statement([<span class="hljs-string">'OR'</span>, [<span class="hljs-string">'=='</span>, <span class="hljs-number">5</span>, <span class="hljs-number">5</span>]]);
<span class="hljs-comment">// (5 === 5)</span>

<span class="hljs-comment">// Strict mode</span>
engine.evaluate([<span class="hljs-string">'OR'</span>, [<span class="hljs-string">'=='</span>, <span class="hljs-number">5</span>, <span class="hljs-number">5</span>]]);
<span class="hljs-comment">// thrown error - 'invalid logical expression, there must be the operator and at least two operands.'</span></code></pre>
				<a href="#parser-options" id="parser-options" style="color: inherit; text-decoration: none;">
					<h3>Parser Options</h3>
				</a>
				<p>Below described, are individual options object properties which could be used individually. Any missing options will be substituted with the default options.</p>
				<p><strong>Usage</strong></p>
				<pre><code class="language-js"><span class="hljs-comment">// Import the illogical engine</span>
<span class="hljs-keyword">import</span> Engine <span class="hljs-keyword">from</span> <span class="hljs-string">'@briza/illogical'</span>;

<span class="hljs-comment">// Create a new instance of the engine</span>
<span class="hljs-keyword">const</span> strictMode = <span class="hljs-literal">true</span>;
<span class="hljs-keyword">const</span> opts = {
  <span class="hljs-attr">referencePredicate</span>: <span class="hljs-function">(<span class="hljs-params">operand</span>) =&gt;</span> operand.startsWith(<span class="hljs-string">'$'</span>),
};
<span class="hljs-keyword">const</span> engine = <span class="hljs-keyword">new</span> Engine(strictMode, opts);</code></pre>
				<a href="#reference-predicated" id="reference-predicated" style="color: inherit; text-decoration: none;">
					<h4>Reference Predicated</h4>
				</a>
				<p>A function used to determine if the operand is a reference type, otherwise evaluated as a static value.</p>
				<pre><code class="language-typescript">referencePredicate: <span class="hljs-function">(<span class="hljs-params">operand: <span class="hljs-built_in">string</span></span>) =&gt;</span> <span class="hljs-built_in">boolean</span></code></pre>
				<p><strong>Return value:</strong></p>
				<ul>
					<li><code>true</code> = reference type</li>
					<li><code>false</code> = value type</li>
				</ul>
				<p><strong>Default reference predicate:</strong>  </p>
				<blockquote>
					<p>The <code>$</code> symbol at the begging of the operand is used to predicate the reference type., E.g. <code>$State</code>, <code>$Country</code>.</p>
				</blockquote>
				<a href="#reference-transform" id="reference-transform" style="color: inherit; text-decoration: none;">
					<h4>Reference Transform</h4>
				</a>
				<p>A function used to transform the operand into the reference annotation stripped form. I.e. remove any annotation used to detect the reference type. E.g. &quot;$Reference&quot; =&gt; &quot;Reference&quot;.</p>
				<pre><code class="language-typescript">referenceTransform: <span class="hljs-function">(<span class="hljs-params">operand: <span class="hljs-built_in">string</span></span>) =&gt;</span> <span class="hljs-built_in">string</span></code></pre>
				<blockquote>
					<p><strong>Default reference transform:</strong><br>It removes the <code>$</code> symbol at the begging of the operand name.</p>
				</blockquote>
				<a href="#operator-mapping" id="operator-mapping" style="color: inherit; text-decoration: none;">
					<h4>Operator Mapping</h4>
				</a>
				<p>Mapping of the operators. The key is unique operator key, and the value is the key used to represent the given operator in the raw expression.</p>
				<pre><code class="language-typescript">operatorMapping: Map&lt;symbol, <span class="hljs-built_in">string</span>&gt;</code></pre>
				<p><strong>Default operator mapping:</strong>  </p>
				<pre><code class="language-typescript"><span class="hljs-comment">// Comparison</span>
[OPERATOR_EQ, <span class="hljs-string">'=='</span>]
[OPERATOR_NE, <span class="hljs-string">'!='</span>]
[OPERATOR_GT, <span class="hljs-string">'&gt;'</span>]
[OPERATOR_GE, <span class="hljs-string">'&gt;='</span>]
[OPERATOR_LT, <span class="hljs-string">'&lt;'</span>]
[OPERATOR_LE, <span class="hljs-string">'&lt;='</span>]
[OPERATOR_IN, <span class="hljs-string">'IN'</span>]
[OPERATOR_NOT_IN, <span class="hljs-string">'NOT IN'</span>]

<span class="hljs-comment">// Logical</span>
[OPERATOR_AND, <span class="hljs-string">'AND'</span>]
[OPERATOR_OR, <span class="hljs-string">'OR'</span>]
[OPERATOR_NOR, <span class="hljs-string">'NOR'</span>]
[OPERATOR_XOR, <span class="hljs-string">'XOR'</span>]</code></pre>
				<blockquote>
					<p>The operator keys are unique symbols which could be imported from the engine package:</p>
				</blockquote>
				<pre><code class="language-js"><span class="hljs-keyword">import</span> {
  OPERATOR_EQ,
  OPERATOR_NE,
  OPERATOR_GT,
  OPERATOR_GE,
  OPERATOR_LT,
  OPERATOR_LE,
  OPERATOR_IN,
  OPERATOR_NOT_IN,
  OPERATOR_AND,
  OPERATOR_OR,
  OPERATOR_NOR,
  OPERATOR_XOR,
} <span class="hljs-keyword">from</span> <span class="hljs-string">'@briza/illogical'</span></code></pre>
				<a href="#contributing" id="contributing" style="color: inherit; text-decoration: none;">
					<h2>Contributing</h2>
				</a>
				<p>When contributing to this repository, please first discuss the change you wish to make via issue, email, or any other method with the owners of this repository before making a change.</p>
				<a href="#pull-request-process" id="pull-request-process" style="color: inherit; text-decoration: none;">
					<h3>Pull Request Process</h3>
				</a>
				<ol>
					<li>Fork it</li>
					<li>Create your feature branch (git checkout -b ft/new-feature-name)</li>
					<li>Commit your changes (git commit -am &#39;Add some feature&#39;)</li>
					<li>Push to the branch (git push origin ft/new-feature-name)</li>
					<li>Create new Pull Request<blockquote>
							<p>Please make an issue first if the change is likely to increase.</p>
						</blockquote>
					</li>
				</ol>
				<a href="#license" id="license" style="color: inherit; text-decoration: none;">
					<h2>License</h2>
				</a>
				<p>Illogical is released under the MIT license. See <a href="https://github.com/briza-insurance/illogical/blob/master/LICENSE.txt">LICENSE.txt</a>.</p>
			</div>
		</div>
		<div class="col-4 col-menu menu-sticky-wrap menu-highlight">
			<nav class="tsd-navigation primary">
				<ul>
					<li class="globals  ">
						<a href="globals.html"><em>Globals</em></a>
					</li>
					<li class=" tsd-kind-external-module">
						<a href="modules/_common_evaluable_.html">"common/evaluable"</a>
					</li>
					<li class=" tsd-kind-external-module">
						<a href="modules/_common_type_check_.html">"common/type-<wbr>check"</a>
					</li>
					<li class=" tsd-kind-external-module">
						<a href="modules/_expression_comparison_eq_.html">"expression/comparison/eq"</a>
					</li>
					<li class=" tsd-kind-external-module">
						<a href="modules/_expression_comparison_ge_.html">"expression/comparison/ge"</a>
					</li>
					<li class=" tsd-kind-external-module">
						<a href="modules/_expression_comparison_gt_.html">"expression/comparison/gt"</a>
					</li>
					<li class=" tsd-kind-external-module">
						<a href="modules/_expression_comparison_in_.html">"expression/comparison/in"</a>
					</li>
					<li class=" tsd-kind-external-module">
						<a href="modules/_expression_comparison_index_.html">"expression/comparison/index"</a>
					</li>
					<li class=" tsd-kind-external-module">
						<a href="modules/_expression_comparison_le_.html">"expression/comparison/le"</a>
					</li>
					<li class=" tsd-kind-external-module">
						<a href="modules/_expression_comparison_lt_.html">"expression/comparison/lt"</a>
					</li>
					<li class=" tsd-kind-external-module">
						<a href="modules/_expression_comparison_ne_.html">"expression/comparison/ne"</a>
					</li>
					<li class=" tsd-kind-external-module">
						<a href="modules/_expression_comparison_not_in_.html">"expression/comparison/not-<wbr>in"</a>
					</li>
					<li class=" tsd-kind-external-module">
						<a href="modules/_expression_logical_and_.html">"expression/logical/and"</a>
					</li>
					<li class=" tsd-kind-external-module">
						<a href="modules/_expression_logical_index_.html">"expression/logical/index"</a>
					</li>
					<li class=" tsd-kind-external-module">
						<a href="modules/_expression_logical_nor_.html">"expression/logical/nor"</a>
					</li>
					<li class=" tsd-kind-external-module">
						<a href="modules/_expression_logical_or_.html">"expression/logical/or"</a>
					</li>
					<li class=" tsd-kind-external-module">
						<a href="modules/_expression_logical_xor_.html">"expression/logical/xor"</a>
					</li>
					<li class=" tsd-kind-external-module">
						<a href="modules/_index_.html">"index"</a>
					</li>
					<li class=" tsd-kind-external-module">
						<a href="modules/_operand_index_.html">"operand/index"</a>
					</li>
					<li class=" tsd-kind-external-module">
						<a href="modules/_operand_reference_.html">"operand/reference"</a>
					</li>
					<li class=" tsd-kind-external-module">
						<a href="modules/_operand_value_.html">"operand/value"</a>
					</li>
					<li class=" tsd-kind-external-module">
						<a href="modules/_parser_index_.html">"parser/index"</a>
					</li>
					<li class=" tsd-kind-external-module">
						<a href="modules/_parser_options_.html">"parser/options"</a>
					</li>
				</ul>
			</nav>
			<nav class="tsd-navigation secondary menu-sticky">
				<ul class="before-current">
				</ul>
			</nav>
		</div>
	</div>
</div>
<footer class="with-border-bottom">
	<div class="container">
		<h2>Legend</h2>
		<div class="tsd-legend-group">
			<ul class="tsd-legend">
				<li class="tsd-kind-module"><span class="tsd-kind-icon">Module</span></li>
				<li class="tsd-kind-object-literal"><span class="tsd-kind-icon">Object literal</span></li>
				<li class="tsd-kind-variable"><span class="tsd-kind-icon">Variable</span></li>
				<li class="tsd-kind-function"><span class="tsd-kind-icon">Function</span></li>
				<li class="tsd-kind-function tsd-has-type-parameter"><span class="tsd-kind-icon">Function with type parameter</span></li>
				<li class="tsd-kind-index-signature"><span class="tsd-kind-icon">Index signature</span></li>
				<li class="tsd-kind-type-alias"><span class="tsd-kind-icon">Type alias</span></li>
				<li class="tsd-kind-type-alias tsd-has-type-parameter"><span class="tsd-kind-icon">Type alias with type parameter</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-enum"><span class="tsd-kind-icon">Enumeration</span></li>
				<li class="tsd-kind-enum-member"><span class="tsd-kind-icon">Enumeration member</span></li>
				<li class="tsd-kind-property tsd-parent-kind-enum"><span class="tsd-kind-icon">Property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-enum"><span class="tsd-kind-icon">Method</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-interface"><span class="tsd-kind-icon">Interface</span></li>
				<li class="tsd-kind-interface tsd-has-type-parameter"><span class="tsd-kind-icon">Interface with type parameter</span></li>
				<li class="tsd-kind-constructor tsd-parent-kind-interface"><span class="tsd-kind-icon">Constructor</span></li>
				<li class="tsd-kind-property tsd-parent-kind-interface"><span class="tsd-kind-icon">Property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-interface"><span class="tsd-kind-icon">Method</span></li>
				<li class="tsd-kind-index-signature tsd-parent-kind-interface"><span class="tsd-kind-icon">Index signature</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-class"><span class="tsd-kind-icon">Class</span></li>
				<li class="tsd-kind-class tsd-has-type-parameter"><span class="tsd-kind-icon">Class with type parameter</span></li>
				<li class="tsd-kind-constructor tsd-parent-kind-class"><span class="tsd-kind-icon">Constructor</span></li>
				<li class="tsd-kind-property tsd-parent-kind-class"><span class="tsd-kind-icon">Property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-class"><span class="tsd-kind-icon">Method</span></li>
				<li class="tsd-kind-accessor tsd-parent-kind-class"><span class="tsd-kind-icon">Accessor</span></li>
				<li class="tsd-kind-index-signature tsd-parent-kind-class"><span class="tsd-kind-icon">Index signature</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-constructor tsd-parent-kind-class tsd-is-inherited"><span class="tsd-kind-icon">Inherited constructor</span></li>
				<li class="tsd-kind-property tsd-parent-kind-class tsd-is-inherited"><span class="tsd-kind-icon">Inherited property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-class tsd-is-inherited"><span class="tsd-kind-icon">Inherited method</span></li>
				<li class="tsd-kind-accessor tsd-parent-kind-class tsd-is-inherited"><span class="tsd-kind-icon">Inherited accessor</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-property tsd-parent-kind-class tsd-is-protected"><span class="tsd-kind-icon">Protected property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-class tsd-is-protected"><span class="tsd-kind-icon">Protected method</span></li>
				<li class="tsd-kind-accessor tsd-parent-kind-class tsd-is-protected"><span class="tsd-kind-icon">Protected accessor</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-property tsd-parent-kind-class tsd-is-private"><span class="tsd-kind-icon">Private property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-class tsd-is-private"><span class="tsd-kind-icon">Private method</span></li>
				<li class="tsd-kind-accessor tsd-parent-kind-class tsd-is-private"><span class="tsd-kind-icon">Private accessor</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-property tsd-parent-kind-class tsd-is-static"><span class="tsd-kind-icon">Static property</span></li>
				<li class="tsd-kind-call-signature tsd-parent-kind-class tsd-is-static"><span class="tsd-kind-icon">Static method</span></li>
			</ul>
		</div>
	</div>
</footer>
<div class="container tsd-generator">
	<p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p>
</div>
<div class="overlay"></div>
<script src="assets/js/main.js"></script>
<script>if (location.protocol == 'file:') document.write('<script src="assets/js/search.js"><' + '/script>');</script>
</body>
</html>